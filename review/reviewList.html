<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리뷰 페이지</title>
    <link rel="stylesheet" href="reviewstyle.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="review.js" defer></script>
</head>
<body class="d-flex flex-column h-100 bg-light">
    <!-- 헤더 -->
    <div data-include-path="../view/header.html"></div>

    <!-- 메인 -->
    <main class="container-fluid d-flex">
        <!-- 왼쪽 로그인 박스 -->
<aside class="left-panel">
    <div class="user-info" id="userInfo">
        <!-- 기본 상태: 로그인되지 않음 -->
        <img src="./../images/profile.png" alt="프로필 이미지">
        <p id="userMessage">로그인 후 이용해주세요</p>
        <button class="butn-custom" id="userActionButton" onclick="location.href='../public/login.html';">로그인</button>
    </div>
</aside>


        <!-- 오른쪽 리뷰 컨텐츠 -->
        <div class="right-panel">
            <div class="text-gradient-wrapper">
                <h1 class="display-5 fw-bolder mb-0 text-gradient">Solve Review</h1>
              </div>
              
            <div class="d-flex justify-content-center my-4">
                <select id="professorDropdown" class="form-select mx-2" style="width: 200px;">
                    <option value="">모든 교수</option>
                </select>
                <select id="sortDropdown" class="form-select mx-2" style="width: 200px;">
                    <option value="latest">최신순</option>
                    <option value="oldest">오래된순</option>
                    <option value="likes">좋아요순</option>
                </select>
                <button class="butn-custom" id="openReviewForm">리뷰 등록</button>
            </div>

            <!-- 리뷰 카드 리스트 -->
            <div class="review-container">
                <!-- 리뷰 항목 -->
            </div>
        </div>
    </main>

    <!-- 리뷰 폼 -->
    <div id="reviewForm" class="cus-modal">
        <div class="cus-modal-content">
            <span id="closeReviewForm" class="cus-close-button">&times;</span>
            <h2>리뷰 작성</h2>
            <select id="reviewProfessorDropdown" class="form-select mb-3">
                <option value="">교수를 선택하세요</option>
            </select>
            <textarea id="reviewContent" class="form-control mb-3" placeholder="리뷰 내용을 입력하세요" rows="4"></textarea>
            <button id="submitReview" class="butn-custom">리뷰 등록</button>
        </div>
    </div>

    <!-- 푸터 -->
    <div data-include-path="../view/footer.html"></div>
    <script>
        window.addEventListener('load', () => {
            const allElements = document.getElementsByTagName('*');
            Array.prototype.forEach.call(allElements, (el) => {
                const includePath = el.dataset.includePath;
                if (includePath) {
                    fetch(includePath)
                        .then(response => {
                            if (response.ok) {
                                return response.text();
                            } else {
                                return null;
                            }
                        })
                        .then(data => {
                            if (data) {
                                el.outerHTML = data;
                            }
                        })
                }
            });
        });
    </script>
    <script src="/public/auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    
</body>
</html>
