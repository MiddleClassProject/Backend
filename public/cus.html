<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Login & Sign Up 페이지</title>
    <link rel="stylesheet" href="/public/css/test.css"> <!-- 필요한 경우 경로 수정 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<div class="form">
      
    <ul class="tab-group">
        <li class="tab active"><a href="#signup">Sign Up</a></li>
        <li class="tab"><a href="#login">Log In</a></li>
    </ul>
      
    <div class="tab-content">

        <!-- 회원가입 폼 -->
        <div id="signup">   
          <h1>Sign Up for Free</h1>
          
          <form method="post" action="http://localhost:3000/process/cus">
          
          <div class="top-row">
            <div class="field-wrap">
              <label>아이디<span class="req">*</span></label>
              <input type="text" name="id" id="id" required autocomplete="off" />
            </div>
        
            <div class="field-wrap">
              <label>사용자명<span class="req">*</span></label>
              <input type="text" name="name" id="name" required autocomplete="off"/>
            </div>
          </div>

          <div class="field-wrap">
            <label>나이<span class="req">*</span></label>
            <input type="number" name="age" id="age" required autocomplete="off"/>
          </div>
          
          <div class="field-wrap">
            <label>비밀번호<span class="req">*</span></label>
            <input type="password" name="password" id="password" required autocomplete="off"/>
          </div>
          
          <button type="submit" class="button button-block">회원가입</button>
          
          </form>

        </div>
        
        <!-- 로그인 폼 -->
        <div id="login">   
          <h1>Welcome Back!</h1>
          
          <form method="post" action="http://localhost:3000/process/cuslogin">
          
            <div class="field-wrap">
              <label>아이디<span class="req">*</span></label>
              <input type="text" name="id" required autocomplete="off"/>
            </div>
          
            <div class="field-wrap">
              <label>비밀번호<span class="req">*</span></label>
              <input type="password" name="password" required autocomplete="off"/>
            </div>
          
            <p class="forgot"><a href="#">비밀번호를 잊으셨나요?</a></p>
          
            <button type="submit" class="button button-block">로그인</button>
          
          </form>

        </div>
        
    </div><!-- tab-content -->
      
</div> <!-- /form -->

<script>
    // 탭 전환 스크립트
    // 입력 필드 포커스와 키 입력 시 레이블 이동
    // 입력 필드 포커스와 키 입력 시 레이블 숨기기
    document.querySelectorAll('.form input, .form textarea').forEach(function(input) {
        input.addEventListener('keyup', handleLabel);
        input.addEventListener('blur', handleLabel);
        input.addEventListener('focus', handleLabel);
    });

    function handleLabel(e) {
        var label = this.previousElementSibling;

        if (this.value !== '') {
             label.classList.add('hide'); // 타자를 치면 레이블이 사라지도록 처리
        } else {
             label.classList.remove('hide'); // 입력이 없으면 다시 레이블 보이기
        }
    }

    // 탭 전환 처리
    document.querySelectorAll('.tab a').forEach(function(tab) {
        tab.addEventListener('click', function(e) {
            e.preventDefault();

            // 탭 활성화/비활성화 처리
            var parent = this.parentNode;
            var siblings = parent.parentNode.children;
            for (var i = 0; i < siblings.length; i++) {
                siblings[i].classList.remove('active');
            }
            parent.classList.add('active');

            // 콘텐츠 표시/숨기기 처리
            var target = document.querySelector(this.getAttribute('href'));
            document.querySelectorAll('.tab-content > div').forEach(function(content) {
                content.style.display = 'none';
            });
            target.style.display = 'block';
            target.style.opacity = 0;
            var opacity = 0;
            var interval = setInterval(function() {
                opacity += 0.1;
                target.style.opacity = opacity;
                if (opacity >= 1) clearInterval(interval);
            }, 50);
        });
    });

// 기본적으로 첫 번째 탭 표시
document.querySelector('.tab-group .active a').click();

</script>

</body>
</html>
